import { Button, ButtonGroup } from "@material-ui/core";
import React from "react";
import { decodeToUint8Array } from "../../utils/en-decoder";

export declare IMenu = {
  content: Uint8Array,
  setMode: React.setstateaction
}

export const OldAppBar = ({}: IMenu) => {
  return (
    <div id="menu">
      <p id="title">Monaco Editor Markdown Github Style Preview</p>
      <ButtonGroup
        variant="contained"
        color="primary"
        aria-label="text primary button group"
      >
        <Button id="button" onClick={() => setMode(0)}>
          Split
        </Button>
        <Button id="button" onClick={() => setMode(2)}>
          Editor
        </Button>
        <Button id="button" onClick={() => setMode(1)}>
          Preview
        </Button>
      </ButtonGroup>
      <Button
        id="button"
        variant="contained"
        color="primary"
        startIcon={<FileCopyIcon />}
        onClick={() => {
          if (navigator.clipboard) {
            navigator.clipboard.writeText(decodeToUint8Array(content) || "");
          }
        }}
      >
        Copy to clipboard
      </Button>
      <Button
        id="button"
        variant="contained"
        color="secondary"
        startIcon={<ShareIcon />}
        onClick={() =>
          (async () => {
            const URL = await createShareURL(decodeToUint8Array(content) || "");
            if (navigator.clipboard) {
              navigator.clipboard.writeText(URL);
            }
          })()
        }
      >
        Share Document with Query Param
      </Button>
    </div>
  );
};
